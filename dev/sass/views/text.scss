.doc > section.text {
	article {
		display: flex;
	}

	> header {
		.modelist li {
			font-size: 1rem;
			padding-top: $pad*0.275;
			padding-bottom: $pad*0.275;
		}

		.button.add {
			display: none;
		}

		.result {
			font-weight: bold;
			
			&.matches {
				//background: $theme-color;
			}
			&.error {
				background: $error-color;
				color: $doc-lightest;

				&.warning {
					background: $warning-color;
				}
			}
			
			em {
				font-style: normal;
				font-weight: normal;
				opacity: 0.75;
			}
		}
	}

	.editor {
		position: relative;
		box-sizing: border-box;
		display: flex;
		height: 100%;
		width: 100%;
		padding: $pad 0 $pad $pad;
		
		> .pad {
			box-sizing: border-box;
			position: relative;
			overflow: hidden;
			width: 100%;
			flex: 1;
			
			> .CodeMirror {
				color: $doc-black;
			}
			
			> iframe.resizedetector {
				opacity: 0;
				//visibility: hidden; // Firefox doesn't resize it if it's hidden!
				z-index: -1000;
				border: none;
				width: 100%;
				height: 100%;
				position: absolute;
			}
			
			> canvas.highlights {
				transition: opacity $transition-t;
				position: absolute;
			}
		
		}
	}

	.tests {
		display: none;

		box-sizing: border-box;
		padding: $pad;
		background: $lighter;
		height: 100%;
		width: 100%;
		overflow: auto;

		li {
			background: $lightest;
			box-shadow: 0 1px 2px $light-shadow;
			transition: margin $transition-t ease-out;
			margin: $pad*0.375 0;

			&:first-child {
				margin-top: 0;
			}

			&:hover {
				outline: $selected-stroke;
			}

			header {
				@extend %title;
				padding: $pad*0.5 $pad*0.75;

				input.name {
					color: $darker;
					font-weight: bold;
					padding: 0;
					margin: 0 $pad * 0.5;
				}

				.icon.delete {
					@extend %link;
					color: $light;
	
					&:hover {
						color: $error-color !important;
					}
				}

				.icon.fail {
					display: none;
					color: $error-color;
				}

				.icon.pass {
					color: $pass-color;
				}

				.matchtype {
					text-transform: uppercase;
					font-size: 0.75em;
					color: $light;
					font-weight: bold;
					box-shadow: none;
				}
			}

			article {
				border-top: solid 1px $lighter;
				padding: $pad*0.5 $pad*0.75;
				display: none;
				height: 5em;
				align-items: stretch;

				.bar {
					background: $pass-color;
					width: 0px;
					outline: solid 1px $pass-color;
					margin: $pad*0.25 $pad*0.875 $pad*0.25 $pad*0.375;
				}
			}

			&:not(.selected) {
				cursor: pointer;

				.matchtype .icon.dropdown {
					opacity: 0;
				}

				* {
					pointer-events: none;
				}
			}

			&.selected {
				outline: $selected-stroke;
				background: $white;
				box-shadow: 0 3px 4px $dark-shadow;
				margin: $pad 0;

				&:first-child {
					margin-top: 0;
				}

				article {
					display: flex;
				}

				.matchtype {
					color: $dark;

					&:hover {
						color: $darkest;
					}
				}
			}

			&.fail {
				.icon.fail {
					display: block;
				}

				.icon.pass {
					display: none;
				}

				.bar {
					outline: solid 1px $error-color;
				}
			}

		}
	}
}

.doc.tests-mode  > section.text {
	> header .button.add {
		display:inline-block;
	}

	
	.editor {
		display: none;
	}

	.tests {
		display: block;
	}
}

#tooltip {
	.more {
		display: inline-block;
		color: $doc-light;
		font-style: italic;
		margin-top: $pad*0.75;
	}
	
	i {
		@extend %ellipsis;
	}
}